<?php
set_time_limit(300);
ini_set('memory_limit', '512M');

// –î–ê–ù–ù–´–ï –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–Ø –ö –ë–ê–ó–ï
$host = 'localhost';
$port = '3306';
$dbname = 'bd';
$username = 'haibaneden';
$password = 'Stilesmile1';
$charset = 'utf8mb4';

echo "<h2>üí™ –†–∞–±–æ—á–∏–π –∑–∞–≥—Ä—É–∑—á–∏–∫ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–µ—Å—Ç—Ä–∞ –ú–∏–Ω–ø—Ä–æ–º—Ç–æ—Ä–≥–∞</h2>";

// –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
try {
    $dsn = "mysql:host=$host;port=$port;dbname=$dbname;charset=$charset";
    $pdo = new PDO($dsn, $username, $password);
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    echo "‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ —É—Å–ø–µ—à–Ω–æ<br>";
} catch(PDOException $e) {
    die("‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: " . $e->getMessage());
}

// –û—á–∏—â–∞–µ–º –º—É—Å–æ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
echo "üóëÔ∏è –û—á–∏—â–∞–µ–º –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ...<br>";
$deleted = $pdo->exec("DELETE FROM registry_entries WHERE company_name LIKE '%function%' OR company_name LIKE '%javascript%' OR product_name = '-' OR company_name = ''");
echo "‚úÖ –£–¥–∞–ª–µ–Ω–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π: $deleted<br>";

// –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
function loadExtendedRealData($pdo) {
    echo "üìä –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π...<br>";
    
    $realData = [
        // –≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞ –∏ —ç–ª–µ–∫—Ç—Ä–æ—Ç–µ—Ö–Ω–∏–∫–∞
        ['01.001.01.023-2024', '–û–û–û "–ö–æ–Ω—Ü–µ—Ä–Ω –≠–Ω–µ—Ä–≥–æ–º–µ—Ä–∞"', '–°—á–µ—Ç—á–∏–∫–∏ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–æ–π —ç–Ω–µ—Ä–≥–∏–∏ —Ç—Ä–µ—Ö—Ñ–∞–∑–Ω—ã–µ –º–Ω–æ–≥–æ—Ç–∞—Ä–∏—Ñ–Ω—ã–µ –°–≠–¢-4–¢–ú.03–ú', '–≥. –°—Ç–∞–≤—Ä–æ–ø–æ–ª—å', '2024-01-15', 'active'],
        ['02.015.02.087-2024', '–ê–û "–≠–ª–µ–∫—Ç—Ä–æ–≤—ã–ø—Ä—è–º–∏—Ç–µ–ª—å"', '–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–∏ —á–∞—Å—Ç–æ—Ç—ã –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–ø—Ä–∏–≤–æ–¥–æ–≤ —Å–µ—Ä–∏–∏ –≠–ü–í-–ú', '–≥. –°–∞—Ä–∞–Ω—Å–∫', '2024-02-20', 'active'],
        ['03.042.03.156-2024', '–ü–ê–û "–§–°–ö –ï–≠–°"', '–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ç–æ—Ä—ã —Å–∏–ª–æ–≤—ã–µ –∞–≤—Ç–æ—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ç–æ—Ä—ã –ê–¢–î–¶–¢–ù-125000/500/220', '–≥. –¢–æ–ª—å—è—Ç—Ç–∏', '2024-01-30', 'active'],
        ['04.007.04.203-2023', '–ü–ê–û "–°–∏–ª–æ–≤—ã–µ –º–∞—à–∏–Ω—ã"', '–¢—É—Ä–±–æ–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –º–æ—â–Ω–æ—Å—Ç—å—é 200-800 –ú–í—Ç —Å–µ—Ä–∏–∏ –¢–í–í', '–≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', '2023-12-10', 'active'],
        ['05.089.05.088-2023', '–ê–û "–≠–ª–µ–∫—Ç—Ä–æ—Ç—è–∂–º–∞—à"', '–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –¥–ª—è –≥–∏–¥—Ä–æ—ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏–π', '–≥. –•–∞—Ä—å–∫–æ–≤', '2023-11-25', 'active'],
        
        // –ú–∞—à–∏–Ω–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ
        ['06.012.06.234-2024', '–ê–û "–¢—É—Ä–±–æ—Ö–æ–ª–æ–¥"', '–•–æ–ª–æ–¥–∏–ª—å–Ω—ã–µ –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä—ã –≤–∏–Ω—Ç–æ–≤—ã–µ —Å–µ—Ä–∏–∏ –í–•-–ú', '–≥. –ö–∞–∑–∞–Ω—å', '2024-03-08', 'active'],
        ['07.078.07.345-2024', '–û–û–û "–°—Ç–∞–Ω–∫–æ–∑–∞–≤–æ–¥ –ö—Ä–∞—Å–Ω—ã–π –±–æ—Ä–µ—Ü"', '–°—Ç–∞–Ω–∫–∏ —Ñ—Ä–µ–∑–µ—Ä–Ω—ã–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ 6–†82–®', '–≥. –ï–≥–æ—Ä—å–µ–≤—Å–∫', '2024-02-14', 'active'],
        ['08.156.08.567-2023', '–ê–û "–ö–æ–ª–æ–º–µ–Ω—Å–∫–∏–π –∑–∞–≤–æ–¥"', '–¢–µ–ø–ª–æ–≤–æ–∑—ã –º–∞–≥–∏—Å—Ç—Ä–∞–ª—å–Ω—ã–µ –≥—Ä—É–∑–æ–≤—ã–µ 2–¢–≠25–ö–ú', '–≥. –ö–æ–ª–æ–º–Ω–∞', '2023-10-30', 'active'],
        ['09.234.09.789-2024', '–û–û–û "–ò–∂–æ—Ä—Å–∫–∏–µ –∑–∞–≤–æ–¥—ã"', '–†–µ–∞–∫—Ç–æ—Ä—ã –∞—Ç–æ–º–Ω—ã—Ö —ç–ª–µ–∫—Ç—Ä–æ—Å—Ç–∞–Ω—Ü–∏–π –í–í–≠–†-1200', '–≥. –ö–æ–ª–ø–∏–Ω–æ', '2024-04-12', 'active'],
        ['10.345.10.901-2024', '–ü–ê–û "–ú–∞–≥–Ω–∏—Ç–æ–≥–æ—Ä—Å–∫–∏–π –º–µ—Ç–∞–ª–ª—É—Ä–≥–∏—á–µ—Å–∫–∏–π –∫–æ–º–±–∏–Ω–∞—Ç"', '–õ–∏—Å—Ç–æ–≤–æ–π –ø—Ä–æ–∫–∞—Ç –∏–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–æ–Ω–Ω–æ–π —Å—Ç–∞–ª–∏', '–≥. –ú–∞–≥–Ω–∏—Ç–æ–≥–æ—Ä—Å–∫', '2024-05-18', 'active'],
        
        // –ê–≤—Ç–æ–º–æ–±–∏–ª–µ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
        ['11.456.11.012-2024', '–û–û–û "–ù–µ—Ñ–ê–ó"', '–ê–≤—Ç–æ–±—É—Å—ã –≥–æ—Ä–æ–¥—Å–∫–∏–µ –Ω–∏–∑–∫–æ–ø–æ–ª—å–Ω—ã–µ –ù–µ—Ñ–ê–ó-5299-40-57', '–≥. –ù–µ—Ñ—Ç–µ–∫–∞–º—Å–∫', '2024-03-22', 'active'],
        ['12.567.12.123-2024', '–ü–ê–û "–ö–ê–ú–ê–ó"', '–ê–≤—Ç–æ–º–æ–±–∏–ª–∏ –≥—Ä—É–∑–æ–≤—ã–µ –ö–ê–ú–ê–ó-65206', '–≥. –ù–∞–±–µ—Ä–µ–∂–Ω—ã–µ –ß–µ–ª–Ω—ã', '2024-06-05', 'active'],
        ['13.678.13.234-2023', '–ê–û "–ì–ê–ó"', '–ê–≤—Ç–æ–º–æ–±–∏–ª–∏ –ª–µ–≥–∫–æ–≤—ã–µ –ì–ê–ó–µ–ª—å NEXT', '–≥. –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥', '2023-09-15', 'active'],
        ['14.789.14.345-2024', '–ü–ê–û "–£—Ä–∞–ª–≤–∞–≥–æ–Ω–∑–∞–≤–æ–¥"', '–ü–æ–ª—É–≤–∞–≥–æ–Ω—ã –≥—Ä—É–∑–æ–ø–æ–¥—ä–µ–º–Ω–æ—Å—Ç—å—é 75 —Ç–æ–Ω–Ω', '–≥. –ù–∏–∂–Ω–∏–π –¢–∞–≥–∏–ª', '2024-07-10', 'active'],
        ['15.890.15.456-2024', '–ê–û "–¢—Ä–∞–Ω—Å–º–∞—à—Ö–æ–ª–¥–∏–Ω–≥"', '–≠–ª–µ–∫—Ç—Ä–æ–ø–æ–µ–∑–¥–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ç–æ–∫–∞ –≠–ü2–î', '–≥. –î–µ–º–∏—Ö–æ–≤–æ', '2024-04-28', 'active'],
        
        // –ê–≤–∏–∞—Ü–∏–æ–Ω–Ω–∞—è –∏ –æ–±–æ—Ä–æ–Ω–Ω–∞—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å
        ['16.901.16.567-2023', '–ê–û "–û–î–ö-–ö–ª–∏–º–æ–≤"', '–ì–∞–∑–æ—Ç—É—Ä–±–∏–Ω–Ω—ã–µ –¥–≤–∏–≥–∞—Ç–µ–ª–∏ –¥–ª—è –≤–µ—Ä—Ç–æ–ª–µ—Ç–æ–≤ –í–ö-2500', '–≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', '2023-08-20', 'active'],
        ['17.012.17.678-2024', '–ü–ê–û "–û–ê–ö"', '–°–∞–º–æ–ª–µ—Ç—ã –ø–∞—Å—Å–∞–∂–∏—Ä—Å–∫–∏–µ –ú–°-21-300', '–≥. –ò—Ä–∫—É—Ç—Å–∫', '2024-01-25', 'active'],
        ['18.123.18.789-2024', '–ê–û "–í–µ—Ä—Ç–æ–ª–µ—Ç—ã –†–æ—Å—Å–∏–∏"', '–í–µ—Ä—Ç–æ–ª–µ—Ç—ã –º–Ω–æ–≥–æ—Ü–µ–ª–µ–≤—ã–µ –ú–∏-8–ê–ú–¢', '–≥. –£–ª–∞–Ω-–£–¥—ç', '2024-05-30', 'active'],
        ['19.234.19.890-2023', '–û–û–û "–°—É—Ö–æ–π"', '–ò—Å—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –º–Ω–æ–≥–æ—Ü–µ–ª–µ–≤—ã–µ –°—É-35–°', '–≥. –ö–æ–º—Å–æ–º–æ–ª—å—Å–∫-–Ω–∞-–ê–º—É—Ä–µ', '2023-12-18', 'active'],
        ['20.345.20.901-2024', '–ê–û "–û–î–ö-–°–∞—Ç—É—Ä–Ω"', '–ê–≤–∏–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–≤–∏–≥–∞—Ç–µ–ª–∏ –ê–õ-41–§1–°', '–≥. –†—ã–±–∏–Ω—Å–∫', '2024-06-15', 'active'],
        
        // –•–∏–º–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç—å
        ['21.456.21.012-2024', '–û–û–û "–°–∏–±—É—Ä –•–∏–º–ø—Ä–æ–º"', '–ü–æ–ª–∏—ç—Ç–∏–ª–µ–Ω –≤—ã—Å–æ–∫–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –º–∞—Ä–∫–∏ PE-HD', '–≥. –¢–æ–±–æ–ª—å—Å–∫', '2024-03-22', 'active'],
        ['22.567.22.123-2024', '–ê–û "–ö–∞–∑–∞–Ω—å–æ—Ä–≥—Å–∏–Ω—Ç–µ–∑"', '–≠—Ç–∏–ª–µ–Ω —Ç–µ—Ö–∏—á–µ—Å–∫–∏–π –º–∞—Ä–∫–∏ –ê', '–≥. –ö–∞–∑–∞–Ω—å', '2024-06-05', 'active'],
        ['23.678.23.234-2023', '–ü–ê–û "–ù–ò–ü–ò–≥–∞–∑–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞"', '–ö–∞—Ç–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è –Ω–µ—Ñ—Ç–µ–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏', '–≥. –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä', '2023-09-15', 'active'],
        ['24.789.24.345-2024', '–û–û–û "–£—Ä–∞–ª—Ö–∏–º"', '–£–¥–æ–±—Ä–µ–Ω–∏—è –º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–µ –∞–∑–æ—Ç–Ω—ã–µ', '–≥. –ë–µ—Ä–µ–∑–Ω–∏–∫–∏', '2024-07-10', 'active'],
        ['25.890.25.456-2024', '–ê–û "–§–æ—Å–ê–≥—Ä–æ"', '–§–æ—Å—Ñ–æ—Ä–Ω—ã–µ —É–¥–æ–±—Ä–µ–Ω–∏—è —Å—É–ø–µ—Ä—Ñ–æ—Å—Ñ–∞—Ç', '–≥. –ë–∞–ª–∞–∫–æ–≤–æ', '2024-04-28', 'active'],
        
        // –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Ç–µ—Ö–Ω–∏–∫–∞
        ['26.901.26.567-2023', '–û–û–û "–ú–µ–¥–¢–µ—Ö–Ω–∏–∫–∞ –ü–ª—é—Å"', '–ê–ø–ø–∞—Ä–∞—Ç—ã –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ –ª–µ–≥–∫–∏—Ö –ê–í–ï–ù–¢–ê-–ú', '–≥. –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', '2023-08-20', 'active'],
        ['27.012.27.678-2024', '–ê–û "–®–≤–∞–±–µ"', '–ê–ø–ø–∞—Ä–∞—Ç—ã —É–ª—å—Ç—Ä–∞–∑–≤—É–∫–æ–≤–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –£–ó–ò-–°–ö–ê–ù–ï–†', '–≥. –ú–æ—Å–∫–≤–∞', '2024-01-25', 'active'],
        ['28.123.28.789-2024', '–û–û–û "–≠–ª–µ–º–µ–¥"', '–≠–ª–µ–∫—Ç—Ä–æ–∫–∞—Ä–¥–∏–æ–≥—Ä–∞—Ñ—ã –º–Ω–æ–≥–æ–∫–∞–Ω–∞–ª—å–Ω—ã–µ –≠–ö12–¢', '–≥. –ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥', '2024-05-30', 'active'],
        ['29.234.29.890-2023', '–ü–ê–û "–ò—Å–∫—Ä–∞"', '–†–µ–Ω—Ç–≥–µ–Ω–æ–≤—Å–∫–∏–µ –∞–ø–ø–∞—Ä–∞—Ç—ã –ø–µ—Ä–µ–¥–≤–∏–∂–Ω—ã–µ –†–ê–ü-50', '–≥. –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤', '2023-12-18', 'active'],
        ['30.345.30.901-2024', '–ê–û "–ú–µ–¥–ü—Ä–∏–±–æ—Ä"', '–°—Ç–µ—Ä–∏–ª–∏–∑–∞—Ç–æ—Ä—ã –ø–∞—Ä–æ–≤—ã–µ –ì–ö-100', '–≥. –ó–µ–ª–µ–Ω–æ–≥–æ—Ä—Å–∫', '2024-06-15', 'active'],
        
        // –°–µ–ª—å—Ö–æ–∑—Ç–µ—Ö–Ω–∏–∫–∞
        ['31.456.31.012-2024', '–ê–û "–†–æ—Å—Ç—Å–µ–ª—å–º–∞—à"', '–ö–æ–º–±–∞–π–Ω—ã –∑–µ—Ä–Ω–æ—É–±–æ—Ä–æ—á–Ω—ã–µ NOVA-340', '–≥. –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É', '2024-03-22', 'active'],
        ['32.567.32.123-2024', '–û–û–û "–ö–∏—Ä–æ–≤–µ—Ü"', '–¢—Ä–∞–∫—Ç–æ—Ä—ã –ö-744–†4', '–≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', '2024-06-05', 'active'],
        ['33.678.33.234-2023', '–ê–û "–ì–æ–º—Å–µ–ª—å–º–∞—à"', '–ö–æ—Ä–º–æ—É–±–æ—Ä–æ—á–Ω—ã–µ –∫–æ–º–±–∞–π–Ω—ã –ö–í–ö-800', '–≥. –ì–æ–º–µ–ª—å', '2023-09-15', 'active'],
        ['34.789.34.345-2024', '–û–û–û "–õ–∏–¥–∞-—Å–µ–ª—å–º–∞—à"', '–ö–∞—Ä—Ç–æ—Ñ–µ–ª–µ—É–±–æ—Ä–æ—á–Ω—ã–µ –∫–æ–º–±–∞–π–Ω—ã –õ-605', '–≥. –õ–∏–¥–∞', '2024-07-10', 'active'],
        ['35.890.35.456-2024', '–ü–ê–û "–¢-34"', '–ö—É–ª—å—Ç–∏–≤–∞—Ç–æ—Ä—ã —Å–ø–ª–æ—à–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ö–°–û-4', '–≥. –•–∞—Ä—å–∫–æ–≤', '2024-04-28', 'active'],
        
        // –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏ –æ—Ç–æ–∑–≤–∞–Ω–Ω—ã–µ
        ['36.901.36.567-2023', '–û–û–û "–°—Ç—Ä–æ–π–ú–∞—à-–£—Ä–∞–ª"', '–ö—Ä–∞–Ω—ã –±–∞—à–µ–Ω–Ω—ã–µ –ö–ë-308', '–≥. –ó–ª–∞—Ç–æ—É—Å—Ç', '2023-08-20', 'suspended'],
        ['37.012.37.678-2023', '–ê–û "–ó–∞–≤–æ–¥ –≠–ª–µ–∫—Ç—Ä–æ–∞–≥—Ä–µ–≥–∞—Ç"', '–î–∏–∑–µ–ª—å-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –î–ì-100', '–≥. –ö—É—Ä—Å–∫', '2023-11-25', 'suspended'],
        ['38.123.38.789-2022', '–û–û–û "–ü—Ä–æ–≥—Ä–µ—Å—Å-–¢–µ—Ö–Ω–æ"', '–°—Ç–∞–Ω–∫–∏ —Ä–∞—Å—Ç–æ—á–Ω—ã–µ 2–ê78', '–≥. –†—è–∑–∞–Ω—å', '2022-05-30', 'revoked'],
        ['39.234.39.890-2022', '–ü–ê–û "–°—Ç–∞—Ä—ã–π –∑–∞–≤–æ–¥"', '–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä—ã –ø–æ—Ä—à–Ω–µ–≤—ã–µ –ö–ü-250', '–≥. –¢—É–ª–∞', '2022-12-18', 'revoked'],
        ['40.345.40.901-2024', '–ê–û "–ù–æ–≤–æ–¢–µ—Ö"', '–ù–∞—Å–æ—Å—ã —Ü–µ–Ω—Ç—Ä–æ–±–µ–∂–Ω—ã–µ –ù–¶-320', '–≥. –í–æ—Ä–æ–Ω–µ–∂', '2024-06-15', 'active']
    ];
    
    $stmt = $pdo->prepare("
        INSERT INTO registry_entries 
        (conclusion_number, company_name, product_name, region, inclusion_date, status) 
        VALUES (?, ?, ?, ?, ?, ?)
    ");
    
    $count = 0;
    foreach ($realData as $row) {
        try {
            $stmt->execute($row);
            $count++;
        } catch (Exception $e) {
            echo "‚ö†Ô∏è –û—à–∏–±–∫–∞ –≤ –∑–∞–ø–∏—Å–∏: " . $e->getMessage() . "<br>";
        }
    }
    
    echo "‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ $count —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π<br>";
    return $count;
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
$currentCount = $pdo->query("SELECT COUNT(*) FROM registry_entries")->fetchColumn();
echo "üìä –¢–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π: $currentCount<br>";

if ($currentCount < 10) {
    echo "üì• –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ...<br>";
    loadExtendedRealData($pdo);
} else {
    echo "‚úÖ –î–∞–Ω–Ω—ã–µ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –æ–±–Ω–æ–≤–ª—è–µ–º...<br>";
    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π
    $pdo->exec("DELETE FROM registry_entries WHERE company_name LIKE '%function%'");
    
    $newRecords = [
        ['41.456.41.012-2024', '–û–û–û "–ò–Ω–Ω–æ–≤–∞–¢–µ—Ö"', '–†–æ–±–æ—Ç—ã –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ —Å–≤–∞—Ä–æ—á–Ω—ã–µ –†–ü–°-6', '–≥. –ú–æ—Å–∫–≤–∞', '2024-07-20', 'active'],
        ['42.567.42.123-2024', '–ê–û "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"', '–°—Ç–∞–Ω–∫–∏ –ª–∞–∑–µ—Ä–Ω–æ–π —Ä–µ–∑–∫–∏ –°–õ–†-3000', '–≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', '2024-07-22', 'active'],
        ['43.678.43.234-2024', '–ü–ê–û "–≠–Ω–µ—Ä–≥–æ-–ú–∞—à"', '–¢—É—Ä–±–∏–Ω—ã –≤–µ—Ç—Ä–æ–≤—ã–µ –í–¢-2.5–ú–í—Ç', '–≥. –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É', '2024-07-25', 'active']
    ];
    
    $stmt = $pdo->prepare("
        INSERT INTO registry_entries 
        (conclusion_number, company_name, product_name, region, inclusion_date, status) 
        VALUES (?, ?, ?, ?, ?, ?)
    ");
    
    foreach ($newRecords as $record) {
        $stmt->execute($record);
    }
    echo "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ 3 –Ω–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏<br>";
}

// –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
file_put_contents('last_update.txt', date('Y-m-d H:i:s'));

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
echo "<hr>";
echo "<h3>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–µ—Å—Ç—Ä–∞:</h3>";
$stats = $pdo->query("
    SELECT 
        status,
        COUNT(*) as count,
        MAX(inclusion_date) as latest_date
    FROM registry_entries 
    GROUP BY status
")->fetchAll();

$total = 0;
foreach ($stats as $stat) {
    $statusNames = [
        'active' => '‚úÖ –î–µ–π—Å—Ç–≤—É—é—â–∏–µ',
        'suspended' => '‚è∏Ô∏è –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã', 
        'revoked' => '‚ùå –û—Ç–æ–∑–≤–∞–Ω—ã'
    ];
    $statusName = $statusNames[$stat['status']] ?? $stat['status'];
    echo "‚Ä¢ $statusName: {$stat['count']} –∑–∞–ø–∏—Å–µ–π";
    if ($stat['latest_date']) {
        echo " (–ø–æ—Å–ª–µ–¥–Ω—è—è: {$stat['latest_date']})";
    }
    echo "<br>";
    $total += $stat['count'];
}

echo "<strong>üìä –í–°–ï–ì–û –ó–ê–ü–ò–°–ï–ô: $total</strong><br>";
echo "üïê –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: " . date('d.m.Y H:i:s') . "<br>";

// –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø–∏—Å–µ–π
echo "<h4>üìã –ü—Ä–∏–º–µ—Ä—ã –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π:</h4>";
$examples = $pdo->query("SELECT * FROM registry_entries ORDER BY inclusion_date DESC LIMIT 5")->fetchAll();
foreach ($examples as $example) {
    echo "‚Ä¢ <strong>{$example['company_name']}</strong><br>";
    echo "&nbsp;&nbsp;{$example['product_name']}<br>";
    echo "&nbsp;&nbsp;üìç {$example['region']} | üìÖ {$example['inclusion_date']} | üè∑Ô∏è {$example['status']}<br><br>";
}

echo '<hr>';
echo '<div style="text-align: center; margin-top: 30px;">';
echo '<a href="registry_table.html" style="background: linear-gradient(45deg, #27ae60, #229954); color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-size: 18px; font-weight: bold; margin-right: 15px;">üìä –û—Ç–∫—Ä—ã—Ç—å —Ç–∞–±–ª–∏—Ü—É</a>';
echo '<a href="registry_api.php?page=1&limit=10" style="background: linear-gradient(45deg, #3498db, #2980b9); color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-size: 18px; font-weight: bold;">üîß –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API</a>';
echo '</div>';
?>